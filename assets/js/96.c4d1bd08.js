(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{573:function(s,t,a){"use strict";a.r(t);var m=a(41),_=Object(m.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"测试目的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试目的"}},[s._v("#")]),s._v(" 测试目的")]),s._v(" "),a("p",[s._v("根据 mysql 高可用方案并进行相关测试。方案如下：")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img.png",alt:""}})]),s._v(" "),a("p",[s._v("使用 keepalived 来做 MySQL1 和 MySQL2 的高可用技术方案，再 MySQL1 和 MySQL2 都需要部署 keepalived，然后虚拟一个 IP 即可。")]),s._v(" "),a("h2",{attrs:{id:"测试环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试环境"}},[s._v("#")]),s._v(" 测试环境")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("ip")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("192.168.81.101")]),s._v(" "),a("td",[s._v("mysql1")])]),s._v(" "),a("tr",[a("td",[s._v("192.168.81.102")]),s._v(" "),a("td",[s._v("mysql2")])]),s._v(" "),a("tr",[a("td",[s._v("192.168.81.104")]),s._v(" "),a("td",[s._v("VIP")])])])]),s._v(" "),a("h2",{attrs:{id:"测试步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试步骤"}},[s._v("#")]),s._v(" 测试步骤")]),s._v(" "),a("ol",[a("li",[s._v("mysql1  添加数据能否向 mysql2 在主主复制的情况下，达到数据同步。"),a("br"),s._v("\n2. mysql2  添加数据能否向 mysql1 在主主复制的情况下，达到数据同步。")]),s._v(" "),a("li",[s._v("mysql1 挂起 mysql2 是否能立即顶上。")]),s._v(" "),a("li",[s._v("mysql2 挂起，mysql1 添加数据，mysql2 启动是否能填补之前数据。")])]),s._v(" "),a("h2",{attrs:{id:"测试方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试方案"}},[s._v("#")]),s._v(" 测试方案")]),s._v(" "),a("p",[s._v("针对测试步骤，本次测试将使用 SQLyog 工具 来作为客户端来进行测试，测试结果将为图文的方式。")]),s._v(" "),a("h2",{attrs:{id:"测试结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试结果"}},[s._v("#")]),s._v(" 测试结果")]),s._v(" "),a("h3",{attrs:{id:"_1、mysql1-添加数据能否向-mysql2-在主主复制的情况下-达到数据同步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、mysql1-添加数据能否向-mysql2-在主主复制的情况下-达到数据同步"}},[s._v("#")]),s._v(" 1、mysql1  添加数据能否向 mysql2 在主主复制的情况下，达到数据同步")]),s._v(" "),a("p",[s._v("先向 mysql1 创建一个 test 库，看 mysql2 能否同步，然后创建表查看能否同步，再进行数据插入，看能否同步。")]),s._v(" "),a("h4",{attrs:{id:"库操作前"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#库操作前"}},[s._v("#")]),s._v(" 库操作前")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_1.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_2.png",alt:""}})]),s._v(" "),a("h4",{attrs:{id:"库操作后"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#库操作后"}},[s._v("#")]),s._v(" 库操作后")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_3.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_4.png",alt:""}})]),s._v(" "),a("h4",{attrs:{id:"操作表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作表"}},[s._v("#")]),s._v(" 操作表")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_5.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_6.png",alt:""}})]),s._v(" "),a("h4",{attrs:{id:"操作数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作数据"}},[s._v("#")]),s._v(" 操作数据")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_7.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_8.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_2、mysql2-添加数据能否向-mysql1-在主主复制的情况下-达到数据同步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、mysql2-添加数据能否向-mysql1-在主主复制的情况下-达到数据同步"}},[s._v("#")]),s._v(" 2、mysql2  添加数据能否向 mysql1 在主主复制的情况下，达到数据同步")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_9.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_10.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_3、mysql1-挂起-mysql2-是否能立即顶上"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、mysql1-挂起-mysql2-是否能立即顶上"}},[s._v("#")]),s._v(" 3、mysql1 挂起 mysql2 是否能立即顶上")]),s._v(" "),a("p",[s._v("通过连接虚拟 IP（VIP）104，然后停止 mysql1，看 104 是否依然能正常运行。")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_11.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_12.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_13.png",alt:""}})]),s._v(" "),a("p",[s._v("测试结果是依然额可以的。可以改为插入数据测试。")]),s._v(" "),a("h3",{attrs:{id:"_4、mysql2-挂起-mysql1添加数据-mysql2启动是否能填补之前数据。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、mysql2-挂起-mysql1添加数据-mysql2启动是否能填补之前数据。"}},[s._v("#")]),s._v(" 4、mysql2 挂起，mysql1 添加数据，mysql2 启动是否能填补之前数据。")]),s._v(" "),a("p",[s._v("关闭 mysql2，再 mysql1 插入数据，然后再启动 mysql2 看是否同步。")]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_14.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_15.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_16.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_17.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/mysql/10/img_18.png",alt:""}})])])}),[],!1,null,null,null);t.default=_.exports}}]);