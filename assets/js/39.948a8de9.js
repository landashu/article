(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{515:function(s,e,a){"use strict";a.r(e);var r=a(41),t=Object(r.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户"}},[s._v("#")]),s._v(" 用户")]),s._v(" "),a("p",[s._v("关于 useradd 的某些参数：")]),s._v(" "),a("ul",[a("li",[s._v("-u UID：指定 UID，这个 UID 必须是大于等于 500，并没有其他用户占用的 UID")]),s._v(" "),a("li",[s._v("-g GID/GROUPNAME：指定默认组，可以是 GID 或者 GROUPNAME，同样也必须真实存在")]),s._v(" "),a("li",[s._v("-G GROUPS：指定附加组")]),s._v(" "),a("li",[s._v("-c COMMENT：指定用户的注释信息")]),s._v(" "),a("li",[s._v("-d PATH：指定用户的家目录")])]),s._v(" "),a("blockquote",[a("p",[s._v("-g 基本组：如果没有指定用户组，创建用户的时候系统会默认同时创建一个和这个用户名同名的组，这个组就是基本组，不可以把用户从基本组中删除。在创建文件时，文件的所属组就是用户的基本组。"),a("br"),s._v("\n-G 附加组：除了基本组之外，用户所在的其他组，都是附加组。用户是可以从附加组中被删除的。"),a("br"),s._v("\n用户不论为与基本组中还是附加组中，就会拥有该组的权限。一个用户可以属于多个附加组。但是一个用户只能有一个基本组。")])]),s._v(" "),a("p",[s._v("查看所有用户")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cat /etc/passwd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("添加")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("useradd xulei -d /home/users/xulei\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("删除用户及关联的目录")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("userdel -r xulei\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"usermod"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usermod"}},[s._v("#")]),s._v(" usermod")]),s._v(" "),a("p",[s._v("usermod 命令用于修改用户帐号。")]),s._v(" "),a("ul",[a("li",[s._v("-c <备注> 　修改用户帐号的备注文字。")]),s._v(" "),a("li",[s._v("-d 登入目录 > 　修改用户登入时的目录。")]),s._v(" "),a("li",[s._v("-e <有效期限> 　修改帐号的有效期限。")]),s._v(" "),a("li",[s._v("-f <缓冲天数> 　修改在密码过期后多少天即关闭该帐号。")]),s._v(" "),a("li",[s._v("-g <主组> 　修改用户所属主组。")]),s._v(" "),a("li",[s._v("-G <群组> 　修改用户所属的附加群组。")]),s._v(" "),a("li",[s._v("-l <帐号名称> 　修改用户帐号名称。")]),s._v(" "),a("li",[s._v("-L 锁定用户密码，使密码无效。")]),s._v(" "),a("li",[s._v("-s 修改用户登入后所使用的 shell。")]),s._v(" "),a("li",[s._v("-u 修改用户 ID。")]),s._v(" "),a("li",[s._v("-U 解除密码锁定。")]),s._v(" "),a("li",[s._v("-a 代表 append，也就是将用户添加到新用户组中而不必离开原有的其他用户组")])]),s._v(" "),a("p",[s._v("将 xulei 添加到 root 组")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("usermod -g root xulei\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果添加的用户不能通过 ssh 登录，可以查看用户受否有 bash 权限")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 查看所有用户，可以查看用户是否有如下路径\ncat /etc/passwd\n# 修改用户有 /bin/bash 权限\nusermod -s /bin/bash 用户名\n# 禁止用户有 /bin/bash 改为 /sbin/nologin\nusermod -s /sbin/nologin 用户名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"用户组-group"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户组-group"}},[s._v("#")]),s._v(" 用户组 group")]),s._v(" "),a("p",[s._v("关于组的增加和删除信息会在 etc 目录的 group 文件中找到，命令 cat /etc/group 可以看到自己的分组和分组 id，0 表示管理员（root），1 - 500 表示系统用户。")]),s._v(" "),a("p",[s._v("groupadd 命令 语法格式如下：")]),s._v(" "),a("ul",[a("li",[s._v("-g：指定新建工作组的 id；")]),s._v(" "),a("li",[s._v("-r：创建系统工作组，系统工作组的组 ID 小于 500；")]),s._v(" "),a("li",[s._v('-K：覆盖配置文件 "/ect/login.defs"；')]),s._v(" "),a("li",[s._v("-o：允许添加组 ID 号不唯一的工作组。")]),s._v(" "),a("li",[s._v("-f,--force: 如果指定的组已经存在，此选项将失明了仅以成功状态退出。当与 -g 一起使用，并且指定的 GID_MIN 已经存在时，选择另一个唯一的 GID（即 - g 关闭）。")])]),s._v(" "),a("p",[s._v("查看所有组")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cat /etc/group\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("查看当前组")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[xulei@node102 sh]$ groups \nxulei\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("查看用户所属组")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[xulei@node102 sh]$ groups root\nroot : root\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("删除组")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("groupdel xulei\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("添加额外组")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("usermod -a -G 组名称 用户名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"文件权限-chown"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件权限-chown"}},[s._v("#")]),s._v(" 文件权限 chown")]),s._v(" "),a("p",[s._v("用来更改某个目录或文件的用户名和用户组。")]),s._v(" "),a("ul",[a("li",[s._v("user : 新的档案拥有者的使用者 ID")]),s._v(" "),a("li",[s._v("group : 新的档案拥有者的使用者群体 (group)")]),s._v(" "),a("li",[s._v("-c : 若该档案拥有者确实已经更改，才显示其更改动作")]),s._v(" "),a("li",[s._v("-f : 若该档案拥有者无法被更改也不要显示错误讯息")]),s._v(" "),a("li",[s._v("-h : 只对于连结 (link) 进行变更，而非该 link 真正指向的档案")]),s._v(" "),a("li",[s._v("-v : 显示拥有者变更的详细资料")]),s._v(" "),a("li",[s._v("-R : 对目前目录下的所有档案与子目录进行相同的拥有者变更 (即以递回的方式逐个变更)")]),s._v(" "),a("li",[s._v("--help : 显示辅助说明")]),s._v(" "),a("li",[s._v("--version : 显示版本")])]),s._v(" "),a("p",[s._v("修改 abc 文件的所有者")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chown root abc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("把目录 /demo 及其下的所有文件和子目录的所有人改成 root，所属组改成 roota。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chown -R root:roota /demo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"chmod"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chmod"}},[s._v("#")]),s._v(" chmod")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-rwxr--r--. 1 xulei root  98 Sep  7 11:49 arp.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("-rwxr--r--  一共 10 个字符，下面讲解下：")]),s._v(" "),a("ul",[a("li",[s._v("d 表示目录，如果是 - 表示是一个普通文件。剩余的 9 个字符，分成 3 组，每组 3 个字符，分别表示 user/group/others 的 rwx 权限；")]),s._v(" "),a("li",[s._v("u user 表示拥有者，可以看到拥有者是 xulei 用户，但文件还属于 root 组，因此 xulei 还是无法执行该文件。")]),s._v(" "),a("li",[s._v("g group 表示组，除了 mysql 这个人的 同一个 MySQL 组拥有的权力")]),s._v(" "),a("li",[s._v("o others 就是其他人了，啥权限也没有。")]),s._v(" "),a("li",[s._v("a 表示 “所有 (all) 用户”。它是系统默认值。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@node102 sh]# chmod a+rwx checkLogin.sh \n[root@node102 sh]# ll\ntotal 16\n-rwxr--r--. 1 xulei root  98 Sep  7 11:49 arp.sh\n-rwxrwxrwx. 1 xulei root 353 Jan 19 17:31 checkLogin.sh\n-rwxr--r--. 1 root  root 123 Sep  7 10:39 nginx_check.sh\n-rwxr-xr-x. 1 root  root 595 Nov 27 15:15 start.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);